{"version":3,"sources":["webpack:///src/app/tab3/tab3.page.html","webpack:///src/app/tab3/event.service.ts","webpack:///src/app/tab3/tab3-routing.module.ts","webpack:///src/app/tab3/tab3.module.ts","webpack:///src/app/tab3/tab3.page.scss","webpack:///src/app/tab3/tab3.page.ts"],"names":["EventService","afStore","aService","eventsCollection","collection","doc","getUser","uid","events","snapshotChanges","pipe","actions","map","a","data","payload","id","eventId","valueChanges","journal","event","update","title","detail","add","providedIn","routes","path","component","Tab3PageRoutingModule","imports","forChild","exports","Tab3PageModule","declarations","Tab3Page","alertCtrl","locale","eService","startTime","Date","toISOString","endTime","allDay","collapseCard","minDate","UTC","getUTCFullYear","getUTCMonth","getUTCDate","eventSource","calendar","mode","currentDate","viewTitle","copyEventSource","allEvents","getAllEvents","console","log","subscribe","forEach","element","eventCopy","push","myCal","loadEvents","resetEvent","start","end","s","e","addEvent","deleteEvent","$event","swiper","document","querySelector","slidePrev","slideNext","create","header","subHeader","cssClass","message","buttons","text","role","handler","then","al","present","alert","eve","selected","selectedTime","setHours","getHours","selector","template"],"mappings":"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","file":"tab3-tab3-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\">\\n      Calendar \\n    </ion-title>\\n    <!-- <div class=\\\"ion-text-center\\\">\\n      <ion-text>{{ viewTitle }}</ion-text>\\n    </div> -->\\n    <ion-buttons slot=\\\"end\\\" >\\n      <ion-button (click)=\\\"today()\\\">TODAY</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card color=\\\"secondary\\\">\\n    <ion-card-header tappable (click)=\\\"collapseCard = !collapseCard\\\">\\n      <ion-card-title class=\\\"ion-text-center\\\">New Event</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content *ngIf=\\\"!collapseCard\\\">\\n      <ion-item>\\n        <ion-input type=\\\"text\\\" placeholder=\\\"Title\\\" [(ngModel)]=\\\"event.title\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input type=\\\"text\\\" placeholder=\\\"Description\\\" [(ngModel)]=\\\"event.detail\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>Start</ion-label>\\n        <ion-datetime displayFormat=\\\"MM/DD/YYYY HH:mm\\\" pickerFormat=\\\"MMM D:HH:mm\\\" [(ngModel)]=\\\"event.startTime\\\" [min]=\\\"minDate\\\"></ion-datetime>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>End</ion-label>\\n        <ion-datetime displayFormat=\\\"MM/DD/YYYY HH:mm\\\" pickerFormat=\\\"MMM D:HH:mm\\\" [(ngModel)]=\\\"event.endTime\\\" [min]=\\\"minDate\\\"></ion-datetime>\\n      </ion-item>\\n      <ion-text>\\n        <ion-label class=\\\"ion-padding\\\">All Day?</ion-label>\\n        <ion-checkbox color=\\\"secondary\\\" [(ngModel)]=\\\"event.allDay\\\"></ion-checkbox>\\n      </ion-text>\\n      <ion-button color=\\\"tertiary\\\" fill=\\\"solid\\\" expand=\\\"block\\\" (click)=\\\"addEvent()\\\" [disabled]=\\\"event.title==''\\\">Add Event</ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-row>\\n    <ion-col size=\\\"4\\\">\\n      <ion-button expand=\\\"full\\\" [color]=\\\"calendar.mode=='month' ? 'tertiary' : 'secondary'\\\" (click)=\\\"changeMode('month')\\\">Month</ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"4\\\">\\n      <ion-button expand=\\\"full\\\" [color]=\\\"calendar.mode=='week' ? 'tertiary' : 'secondary'\\\" (click)=\\\"changeMode('week')\\\">Week</ion-button>\\n    </ion-col>\\n    <ion-col  size=\\\"4\\\">\\n      <ion-button expand=\\\"full\\\" [color]=\\\"calendar.mode=='day' ? 'tertiary' : 'secondary'\\\" (click)=\\\"changeMode('day')\\\">Day</ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n  <ion-row>\\n    <ion-col class=\\\"ion-text-left\\\">\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"back()\\\">\\n        <ion-icon name=\\\"arrow-back-circle\\\" slot=\\\"icon-only\\\" color=\\\"secondary\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n    <ion-col class=\\\"ion-text-center\\\" style=\\\"top:10px;\\\" size=\\\"6\\\">\\n      <ion-label>{{ viewTitle }}</ion-label>\\n    </ion-col>\\n    <ion-col class=\\\"ion-text-right\\\">\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"next()\\\">\\n        <ion-icon name=\\\"arrow-forward-circle\\\" slot=\\\"icon-only\\\" color=\\\"secondary\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n  <calendar \\n        [eventSource]=\\\"eventSource\\\"\\n        [calendarMode]=\\\"calendar.mode\\\"\\n        [currentDate]=\\\"calendar.currentDate\\\"\\n        (onEventSelected)=\\\"onEventSelected($event)\\\"\\n        (onTitleChanged)=\\\"onViewTitleChanged($event)\\\"\\n        (onTimeSelected)=\\\"onTimeSelected($event)\\\"\\n        step=\\\"30\\\">\\n        \\n  </calendar>\\n</ion-content>\\n\";","import { Injectable } from '@angular/core';\nimport { Event } from './events.model';\nimport { AngularFirestoreCollection, AngularFirestore, DocumentReference } from '@angular/fire/firestore/';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventService {\n  eventsCollection: AngularFirestoreCollection<Event>\n\n  events: Observable<Event[]>\n  constructor(private afStore: AngularFirestore, private aService: AuthenticationService) {\n    this.eventsCollection = this.afStore.collection('users').doc(this.aService.getUser().uid).collection('events')\n\n   }\n\n  getAllEvents(): Observable<Event[]>{\n    this.eventsCollection = this.afStore.collection('users').doc(this.aService.getUser().uid).collection('events')\n    this.events = this.eventsCollection.snapshotChanges().pipe(map(actions=>{\n      return actions.map(a =>{\n        const data = a.payload.doc.data() as Event\n        data.id = a.payload.doc.id\n        return data\n      })\n    }))\n    return this.events\n  }\n\n  \n  getEvent(eventId: string): Observable<Event>{\n    return this.eventsCollection.doc<Event>(eventId).valueChanges().pipe(\n      take(1),\n      map(journal=>{\n        journal.id = eventId;\n        return journal\n      })\n    )\n  }\n\n  updateEvent(event: Event): Promise<void>{\n    return this.eventsCollection.doc(event.id).update({title: event.title,\n    detail: event.detail})\n  }\n\n  deleteEvent(eventId: string): Promise<void>{\n    return this.eventsCollection.doc(eventId).delete()\n  }\n\n  addEvent(event: Event): Promise<DocumentReference>{\n    return this.eventsCollection.add(event)\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab3PageRoutingModule } from './tab3-routing.module'\nimport { NgCalendarModule  } from 'ionic2-calendar';\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\n    Tab3PageRoutingModule,\n    NgCalendarModule\n  ],\n  declarations: [Tab3Page]\n})\nexport class Tab3PageModule {}\n","export default \".monthview-primary-with-event {\\n  background-color: var(--ion-color-secondary);\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMy9EOlxcVmFscG8gQ291cnNlc1xcU3ByaW5nICcyMFxcU29mdHdhcmUgRGVzaWduIGFuZCBEZXZlbG9wbWVudFxcSW9uaWMgUHJvamVjdHNcXE5ld0Nob2ljZXNcXGNob2ljZXNOZXcvc3JjXFxhcHBcXHRhYjNcXHRhYjMucGFnZS5zY3NzIiwic3JjL2FwcC90YWIzL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksNENBQUE7RUFDQSwrQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvdGFiMy90YWIzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tb250aHZpZXctcHJpbWFyeS13aXRoLWV2ZW50e1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG59IiwiLm1vbnRodmlldy1wcmltYXJ5LXdpdGgtZXZlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn0iXX0= */\";","import { Component, OnInit, ViewChild, Inject, LOCALE_ID } from '@angular/core';\nimport { CalendarComponent } from 'ionic2-calendar/calendar';\nimport { AlertController } from '@ionic/angular';\nimport { formatDate } from '@angular/common';\nimport { EventService } from './event.service';\nimport { Event } from './events.model'\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss']\n})\nexport class Tab3Page implements OnInit{\n\n \n\n  event: Event = {\n    title: '',\n    detail: '',\n    startTime: new Date().toISOString(),\n    endTime: new Date().toISOString(),\n    allDay: false\n  }\n  allEvents: Observable<Event[]>\n  sTime: string\n  eTime: string\n\n  collapseCard: boolean = true\n\n  minDate = new Date(Date.UTC(new Date(this.event.startTime).getUTCFullYear(), new Date(this.event.startTime).getUTCMonth()-3, new Date(this.event.startTime).getUTCDate())).toISOString()\n  \n  eventSource = []\n  calendar = {\n    mode: \"month\",\n    currentDate: new Date()\n  }\n\n  viewTitle = ''\n  copyEventSource = []\n  @ViewChild(CalendarComponent, {static: false}) myCal: CalendarComponent\n\n  constructor(private alertCtrl: AlertController, @Inject(LOCALE_ID)private locale: string, private eService: EventService) {}\n\n  async ngOnInit(){\n    this.allEvents = this.eService.getAllEvents()\n    console.log(this.eventSource)\n    await this.allEvents.subscribe(event =>{\n      // console.log(event)\n      // console.log(this.eventSource)\n      // try{\n      //   this.eventSource = event\n      // }catch(error){\n      //   console.log(error.code)\n      // }\n     \n      // console.log(this.eventSource)\n      // this.eventSource.push(event)\n      // console.log(this.eventSource)\n      this.eventSource = []\n      event.forEach(element => {\n        let eventCopy = {\n          id: element.id,\n          title: element.title,\n          detail: element.detail,\n          startTime: new Date(element.startTime),\n          endTime: new Date(element.endTime),\n          allDay: element.allDay\n        }\n        this.eventSource.push(eventCopy)\n      });\n      // this.myCal.loadEvents()\n    //   console.log(this.copyEventSource)\n    // this.eventSource = this.copyEventSource\n    console.log(this.eventSource)\n    \n    this.myCal.loadEvents()\n    })\n    //this.eventSource.push(this.eService.getAllEvents())\n    this.resetEvent()\n  }\n\n  async ionViewWillEnter(){\n    this.allEvents = this.eService.getAllEvents()\n    console.log(this.eventSource)\n    await this.allEvents.subscribe(event =>{\n      // console.log(event)\n      // console.log(this.eventSource)\n      // try{\n      //   this.eventSource = event\n      // }catch(error){\n      //   console.log(error.code)\n      // }\n     \n      // console.log(this.eventSource)\n      // this.eventSource.push(event)\n      // console.log(this.eventSource)\n      this.eventSource = []\n      event.forEach(element => {\n        let eventCopy = {\n          id: element.id,\n          title: element.title,\n          detail: element.detail,\n          startTime: new Date(element.startTime),\n          endTime: new Date(element.endTime),\n          allDay: element.allDay\n        }\n        this.eventSource.push(eventCopy)\n      });\n      // this.myCal.loadEvents()\n    //   console.log(this.copyEventSource)\n    // this.eventSource = this.copyEventSource\n    console.log(this.eventSource)\n    \n    this.myCal.loadEvents()\n    })\n    //this.eventSource.push(this.eService.getAllEvents())\n    this.resetEvent()\n  \n  }\n\n  resetEvent(){\n    this.event = {\n      title: '',\n      detail: '',\n      startTime: new Date().toISOString(),\n      endTime: new Date().toISOString(),\n      allDay: false\n    }\n  \n  }\n\n  addEvent(){\n   \n    let eventCopy = {\n      title: this.event.title,\n      detail: this.event.detail,\n      startTime: this.event.startTime,\n      endTime: this.event.endTime,\n      allDay: this.event.allDay\n    }\n\n    if(eventCopy.allDay){\n      let start = new Date(eventCopy.startTime)\n      let end = new Date(eventCopy.endTime)\n\n      let s = new Date(Date.UTC(start.getUTCFullYear(), start.getUTCMonth(), start.getUTCDate()))\n      let e = new Date(Date.UTC(end.getUTCFullYear(), end.getUTCMonth(), end.getUTCDate()+1))\n      eventCopy.startTime = s.toISOString()\n      eventCopy.endTime = e.toISOString()\n    }\n    \n    \n   \n    \n    this.eService.addEvent(eventCopy)\n    this.myCal.loadEvents()\n    this.resetEvent()\n    this.collapseCard = true\n  }\n\n  deleteEvent(event){\n    // this.eventSource.filter(ev =>{\n    //   ev !== event\n    // })\n \n    this.eService.deleteEvent(event.id)\n    // let index = this.eventSource.indexOf(event)\n    // if(index > -1){\n    //   this.eventSource.splice(index,1)\n    // }\n    // // this.eventSource.pop()\n    // this.myCal.loadEvents()\n  }\n\n  changeMode($event){\n    this.calendar.mode = $event\n  }\n\n  back(){\n    var swiper = document.querySelector('.swiper-container')['swiper']\n    swiper.slidePrev()\n  }\n\n  next(){\n    var swiper = document.querySelector('.swiper-container')['swiper']\n    swiper.slideNext()\n  }\n\n  today(){\n    this.calendar.currentDate = new Date()\n  }\n\n  async onEventSelected(event){\n    var start = formatDate(this.event.startTime, 'medium', this.locale)\n    var end = formatDate(this.event.endTime, 'medium', this.locale)\n\n    const alert = await this.alertCtrl.create({\n      header: event.title,\n      subHeader: event.detail,\n      cssClass: 'buttonCss',\n      message: 'From: ' + start + '<br><br>To: ' + end,\n      buttons: [{\n        text: 'OK',\n        cssClass: 'first-button',\n        role: 'OK'\n      },{\n        text: 'Delete',\n        cssClass: 'second-button',\n        handler: ()=>{\n          this.deleteEvent(event)\n        }\n      }]\n    }).then(al => {\n      al.present()\n    })\n  }\n\n  onViewTitleChanged(title){\n    this.viewTitle = title\n  }\n\n  onTimeSelected(eve){\n    var selected = new Date(eve.selectedTime)\n    this.event.startTime = selected.toISOString()\n    selected.setHours(selected.getHours() + 1)\n    this.event.endTime = selected.toISOString()\n  }\n}\n"]}