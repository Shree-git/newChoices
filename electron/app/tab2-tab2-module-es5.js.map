{"version":3,"sources":["webpack:///src/app/tab2/popover/popover.component.html","webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/tab2/impulse.service.ts","webpack:///src/app/tab2/popover/popover.component.scss","webpack:///src/app/tab2/popover/popover.component.ts","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["ImpulseService","afStore","aService","impulsesCollection","collection","doc","user","uid","console","log","getUser","email","impulses","snapshotChanges","pipe","actions","map","a","data","payload","id","impulseId","valueChanges","impulse","searchWord","Number","ref","where","rating","desAsc","orderBy","update","title","detail","date","Date","toISOString","add","providedIn","PopoverComponent","impulseService","popController","sortBy","dismiss","selector","template","routes","path","component","loadChildren","then","m","ImpulseAddPageModule","ImpulseDetailPageModule","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","Tab2Page","alertCtrl","popoverController","platform","isSearchBarOn","funnelShow","currentPopover","getAllImpulses","create","header","message","cssClass","buttons","text","handler","deleteImpulse","role","alert","present","event","setTimeout","target","complete","$event","value","sortByNewest","sortByOldest","sortByHighest","sortByLowest","trim","searchImpulse","document","getElementById","classList","toggle","window","onclick","e","ele","matches","dropdowns","getElementsByClassName","i","length","openDropdown","contains","remove","ev","translucent","popover","onWillDismiss"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSf,QAAaA,cAAc;AAIzB,8BAAoBC,OAApB,EAAuDC,QAAvD,EAAwF;AAAA;;AAApE,aAAAD,OAAA,GAAAA,OAAA;AAAmC,aAAAC,QAAA,GAAAA,QAAA;AACrD,aAAKC,kBAAL,GAA0B,KAAKF,OAAL,CAAaG,UAAb,CAAwB,OAAxB,EAAiCC,GAAjC,CAAqC,KAAKH,QAAL,CAAcI,IAAd,CAAmBC,GAAxD,EAA6DH,UAA7D,CAAwE,UAAxE,CAA1B;AACA;;AANuB;AAAA;AAAA,yCAQX;AACZI,iBAAO,CAACC,GAAR,CAAY,KAAKP,QAAL,CAAcQ,OAAd,GAAwBC,KAApC;AACA,eAAKR,kBAAL,GAA0B,KAAKF,OAAL,CAAaG,UAAb,CAAwB,OAAxB,EAAiCC,GAAjC,CAAqC,KAAKH,QAAL,CAAcI,IAAd,CAAmBC,GAAxD,EAA6DH,UAA7D,CAAwE,UAAxE,CAA1B;AACA,eAAKQ,QAAL,GAAgB,KAAKT,kBAAL,CAAwBU,eAAxB,GAA0CC,IAA1C,CAA+C,2DAAI,UAAAC,OAAO,EAAE;AAC1E,mBAAOA,OAAO,CAACC,GAAR,CAAY,UAAAC,CAAC,EAAG;AACrB,kBAAMC,IAAI,GAAGD,CAAC,CAACE,OAAF,CAAUd,GAAV,CAAca,IAAd,EAAb;AACA,kBAAME,EAAE,GAAGH,CAAC,CAACE,OAAF,CAAUd,GAAV,CAAce,EAAzB;AACA,qBAAO,MAAP,OAAO,CAAP;AAAQA,kBAAE,EAAFA;AAAR,eAAO,EAAQF,IAAR,CAAP;AACD,aAJM,CAAP;AAKD,WAN8D,CAA/C,CAAhB;AAOA,iBAAO,KAAKN,QAAZ;AACD;AAnBwB;AAAA;AAAA,mCAsBdS,SAtBc,EAsBG;AAC1B,iBAAO,KAAKlB,kBAAL,CAAwBE,GAAxB,CAAqCgB,SAArC,EAAgDC,YAAhD,GAA+DR,IAA/D,CACL,4DAAK,CAAL,CADK,EAEL,2DAAI,UAAAS,OAAO,EAAE;AACXA,mBAAO,CAACH,EAAR,GAAaC,SAAb;AACA,mBAAOE,OAAP;AACD,WAHD,CAFK,CAAP;AAOD;AA9BwB;AAAA;AAAA,sCAgCXC,UAhCW,EAgCD;AACtB;AACAA,oBAAU,GAAGC,MAAM,CAACD,UAAD,CAAnB;AACA,iBAAO,KAAKvB,OAAL,CAAaG,UAAb,CAAwB,OAAxB,EAAiCC,GAAjC,CAAqC,KAAKH,QAAL,CAAcQ,OAAd,GAAwBH,GAA7D,EAAkEH,UAAlE,CAA6E,UAA7E,EAA0F,UAAAsB,GAAG;AAAA,mBACpGA,GAAG,CAACC,KAAJ,CAAU,QAAV,EAAoB,IAApB,EAA0BH,UAA1B,CADoG;AAAA,WAA7F,EACgCX,eADhC,GACkDC,IADlD,CACuD,2DAAI,UAAAC,OAAO,EAAE;AACzE,mBAAOA,OAAO,CAACC,GAAR,CAAY,UAAAC,CAAC,EAAG;AACrB,kBAAMC,IAAI,GAAGD,CAAC,CAACE,OAAF,CAAUd,GAAV,CAAca,IAAd,EAAb,CADqB,CAErB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,kBAAME,EAAE,GAAGH,CAAC,CAACE,OAAF,CAAUd,GAAV,CAAce,EAAzB;AACA,qBAAO,MAAP,OAAO,CAAP;AAAQA,kBAAE,EAAFA;AAAR,eAAO,EAAQF,IAAR,CAAP;AACD,aAXM,CAAP;AAYD,WAb6D,CADvD,CAAP;AAeD;AAlDwB;AAAA;AAAA,+BAoDlBU,MApDkB,EAoDFC,MApDE,EAoDI;AAC3B,iBAAO,KAAK5B,OAAL,CAAaG,UAAb,CAAwB,OAAxB,EAAiCC,GAAjC,CAAqC,KAAKH,QAAL,CAAcQ,OAAd,GAAwBH,GAA7D,EAAkEH,UAAlE,CAA6E,UAA7E,EAA0F,UAAAsB,GAAG;AAAA,mBACpGA,GAAG,CAACI,OAAJ,CAAYF,MAAZ,EAAoBC,MAApB,CADoG;AAAA,WAA7F,EACsBhB,eADtB,GACwCC,IADxC,CAC6C,2DAAI,UAAAC,OAAO,EAAE;AAC/D,mBAAOA,OAAO,CAACC,GAAR,CAAY,UAAAC,CAAC,EAAG;AACrB,kBAAMC,IAAI,GAAGD,CAAC,CAACE,OAAF,CAAUd,GAAV,CAAca,IAAd,EAAb,CADqB,CAErB;AACA;AACA;AACA;AACA;AACA;;AACA,kBAAME,EAAE,GAAGH,CAAC,CAACE,OAAF,CAAUd,GAAV,CAAce,EAAzB;AACA,qBAAO,MAAP,OAAO,CAAP;AAAQA,kBAAE,EAAFA;AAAR,eAAO,EAAQF,IAAR,CAAP;AACD,aAVM,CAAP;AAWD,WAZmD,CAD7C,CAAP;AAcD;AAnEwB;AAAA;AAAA,sCAqEXK,OArEW,EAqEK;AAC5B,iBAAO,KAAKpB,kBAAL,CAAwBE,GAAxB,CAA4BkB,OAAO,CAACH,EAApC,EAAwCW,MAAxC,CAA+C;AAACC,iBAAK,EAAET,OAAO,CAACS,KAAhB;AACtDC,kBAAM,EAAEV,OAAO,CAACU,MADsC;AAC9BL,kBAAM,EAAEL,OAAO,CAACK,MADc;AACNM,gBAAI,EAAE,IAAIC,IAAJ,GAAWC,WAAX;AADA,WAA/C,CAAP;AAED;AAxEwB;AAAA;AAAA,sCA0EXf,SA1EW,EA0EM;AAC7B,iBAAO,KAAKlB,kBAAL,CAAwBE,GAAxB,CAA4BgB,SAA5B,aAAP;AACD;AA5EwB;AAAA;AAAA,mCA8EdE,OA9Ec,EA8EE;AACzB,iBAAO,KAAKpB,kBAAL,CAAwBkC,GAAxB,CAA4Bd,OAA5B,CAAP;AACD;AAhFwB;;AAAA;AAAA,OAA3B;;;;cAI+B;;cAAoC;;;;AAJtDvB,kBAAc,6DAH1B,iEAAW;AACVsC,gBAAU,EAAE;AADF,KAAX,CAG0B,GAAdtC,cAAc,CAAd;;;;;;;;;;;;;;;;ACTb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf,QAAauC,gBAAgB;AAE3B,gCAAoBC,cAApB,EAA4DC,aAA5D,EAA8F;AAAA;;AAA1E,aAAAD,cAAA,GAAAA,cAAA;AAAwC,aAAAC,aAAA,GAAAA,aAAA;AAAqC;;AAFtE;AAAA;AAAA,mCAIhB,CAAE;AAJc;AAAA;AAAA,wCAMd;AACX,eAAKD,cAAL,CAAoB5B,QAApB,GAA+B,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,QAA3B,EAAqC,MAArC,CAA/B;AACA,eAAKD,aAAL,CAAmBE,OAAnB;AACD;AAT0B;AAAA;AAAA,uCAWf;AACV,eAAKH,cAAL,CAAoB5B,QAApB,GAA+B,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,QAA3B,EAAqC,KAArC,CAA/B;AACA,eAAKD,aAAL,CAAmBE,OAAnB;AACD;AAd0B;AAAA;AAAA,uCAiBf;AACV,eAAKH,cAAL,CAAoB5B,QAApB,GAA+B,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,MAA3B,EAAmC,KAAnC,CAA/B;AACA,eAAKD,aAAL,CAAmBE,OAAnB;AACD;AApB0B;AAAA;AAAA,uCAsBf;AACV,eAAKH,cAAL,CAAoB5B,QAApB,GAA+B,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,MAA3B,EAAmC,MAAnC,CAA/B;AACA,eAAKD,aAAL,CAAmBE,OAAnB;AACD;AAzB0B;;AAAA;AAAA,OAA7B;;;;cAEsC;;cAAuC;;;;AAFhEJ,oBAAgB,6DAL5B,gEAAU;AACTK,cAAQ,EAAE,aADD;AAETC,cAAQ,EAAR;AAAA;AAAA,wGAFS;;;;AAAA,KAAV,CAK4B,GAAhBN,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNb,QAAMO,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,EAKrB;AACED,UAAI,EAAE,YADR;AAEEE,kBAAY,EAAE;AAAA,eAAM;AAAA;AAAA;AAAA;AAAA,6DAA2CC,IAA3C,CAAiD,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,oBAAN;AAAA,SAAlD,CAAN;AAAA;AAFhB,KALqB,EASrB;AACEL,UAAI,EAAE,2BADR;AAEEE,kBAAY,EAAE;AAAA,eAAM;AAAA;AAAA;AAAA;AAAA,mEAAiDC,IAAjD,CAAuD,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACE,uBAAN;AAAA,SAAxD,CAAN;AAAA;AAFhB,KATqB,CAAvB;;AAmBA,QAAaC,qBAAqB;AAAA;AAAA,KAAlC;;AAAaA,yBAAqB,6DAJjC,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBV,MAAtB,CAAD,CADD;AAERW,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAIiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHb,QAAaI,cAAc;AAAA;AAAA,KAA3B;;AAAaA,kBAAc,6DAV1B,+DAAS;AACRH,aAAO,EAAE,CACP,0DADO,EAEP,4DAFO,EAGP,0DAHO,EAIP,2GAJO,EAKP,0EALO,CADD;AAQRI,kBAAY,EAAE,CAAC,mDAAD;AARN,KAAT,CAU0B,GAAdD,cAAc,CAAd;;;;;;;;;;;;;;;;ACpBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACaf,QAAaE,QAAQ;AAOnB,wBAAoBpB,cAApB,EAA4DqB,SAA5D,EAAgGC,iBAAhG,EACUC,QADV,EAC8B;AAAA;;AADV,aAAAvB,cAAA,GAAAA,cAAA;AAAwC,aAAAqB,SAAA,GAAAA,SAAA;AAAoC,aAAAC,iBAAA,GAAAA,iBAAA;AACtF,aAAAC,QAAA,GAAAA,QAAA;AALV,aAAAC,aAAA,GAAyB,KAAzB;AACA,aAAAC,UAAA,GAAsB,KAAtB;AACA,aAAAC,cAAA,GAAiB,IAAjB;AAGgC;;AARb;AAAA;AAAA,mCAUX;AACN,eAAKtD,QAAL,GAAgB,KAAK4B,cAAL,CAAoB2B,cAApB,EAAhB;AACD;AAZkB;AAAA;AAAA,2CAcH;AACd,eAAKvD,QAAL,GAAgB,KAAK4B,cAAL,CAAoB2B,cAApB,EAAhB;AACD,SAhBkB,CAkBnB;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AA1BmB;AAAA;AAAA,sCA4BC/C,EA5BD,EA4BG;;;;;;;;;;AACR,2BAAM,KAAKyC,SAAL,CAAeO,MAAf,CAAsB;AACtCC,4BAAM,EAAE,QAD8B;AAEtCC,6BAAO,EAAE,qCAF6B;AAGtCC,8BAAQ,EAAE,WAH4B;AAItCC,6BAAO,EAAE,CAAC;AACRC,4BAAI,EAAE,QADE;AAERF,gCAAQ,EAAE,cAFF;AAGRG,+BAAO,EAAE,mBAAI;AAAE,+BAAI,CAAClC,cAAL,CAAoBmC,aAApB,CAAkCvD,EAAlC;AAAuC;AAH9C,uBAAD,EAKT;AACEqD,4BAAI,EAAE,QADR;AAEEF,gCAAQ,EAAE,eAFZ;AAGEK,4BAAI,EAAE;AAHR,uBALS;AAJ6B,qBAAtB,CAAN;;;AAARC,yB;;AAeJ,2BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;;AACD;AA7CkB;AAAA;AAAA,kCA+CTC,KA/CS,EA+CF;AAAA;;AAGfC,oBAAU,CAAC,YAAM;AACf,kBAAI,CAACpE,QAAL,GAAgB,MAAI,CAAC4B,cAAL,CAAoB2B,cAApB,EAAhB;AACAY,iBAAK,CAACE,MAAN,CAAaC,QAAb;AACD,WAHS,EAGP,IAHO,CAAV;AAID;AAtDkB;AAAA;AAAA,iCAwDVC,MAxDU,EAwDJ;AAEb,kBAAOA,MAAM,CAACF,MAAP,CAAcG,KAArB;AACE,iBAAK,QAAL;AACE,mBAAKC,YAAL;AACA;;AACF,iBAAK,QAAL;AACE,mBAAKC,YAAL;AACA;;AACF,iBAAK,SAAL;AACE,mBAAKC,aAAL;AACA;;AACF,iBAAK,QAAL;AACE,mBAAKC,YAAL;AACA;AAZJ;AAcD;AAxEkB;AAAA;AAAA,+BA0EZT,KA1EY,EA0EP;AACV,cAAIvD,UAAU,GAAGuD,KAAK,CAACE,MAAN,CAAaG,KAA9B;;AAEA,cAAI,CAAC5D,UAAD,IAAe,CAACA,UAAU,CAACiE,IAAX,EAApB,EAAsC;AACpC,iBAAK7E,QAAL,GAAgB,KAAK4B,cAAL,CAAoB2B,cAApB,EAAhB;AACD,WAFD,MAEK;AACH;AACA,iBAAKvD,QAAL,GAAgB,KAAK4B,cAAL,CAAoBkD,aAApB,CAAkClE,UAAlC,CAAhB;AACD;AACF;AAnFkB;AAAA;AAAA,uCAqFP;AACV,eAAKwC,aAAL,GAAmB,KAAnB;AACA,eAAKpD,QAAL,GAAgB,KAAK4B,cAAL,CAAoB5B,QAApC;AACD;AAxFkB;AAAA;AAAA,mCA2FR;AACT+E,kBAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,CAA4CC,MAA5C,CAAmD,MAAnD,EADS,CAET;;AACAC,gBAAM,CAACC,OAAP,GAAiB,UAASC,CAAT,EAAY;AAC7B,gBAAIC,GAAG,GAAUD,CAAC,CAAChB,MAAnB;;AACI,gBAAI,CAACiB,GAAG,CAACC,OAAJ,CAAY,OAAZ,CAAL,EAA0B;AACxB,kBAAIC,SAAS,GAAGT,QAAQ,CAACU,sBAAT,CAAgC,eAAhC,CAAhB;AACA,kBAAIC,CAAJ;;AACA,mBAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGF,SAAS,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,oBAAIE,YAAY,GAAGJ,SAAS,CAACE,CAAD,CAA5B;;AACA,oBAAIE,YAAY,CAACX,SAAb,CAAuBY,QAAvB,CAAgC,MAAhC,CAAJ,EAA6C;AACzCD,8BAAY,CAACX,SAAb,CAAuBa,MAAvB,CAA8B,MAA9B;AACH;AACJ;AACF;AACN,WAZC;AAaH;AA3GoB;AAAA;AAAA,oCA6GHC,EA7GG,EA6GC;;;;;;;;;;AACJ,2BAAM,KAAK7C,iBAAL,CAAuBM,MAAvB,CAA8B;AAClDpB,+BAAS,EAAE,gFADuC;AAElD+B,2BAAK,EAAE4B,EAF2C;AAGlDC,iCAAW,EAAE;AAHqC,qBAA9B,CAAN;;;AAAVC,2B;AAKN,yBAAK3C,cAAL,GAAsB2C,OAAtB;AACArG,2BAAO,CAACC,GAAR,CAAYkG,EAAZ;;AACA,2BAAME,OAAO,CAAC/B,OAAR,EAAN;;;;AACO,2BAAM+B,OAAO,CAACC,aAAR,GAAwB5D,IAAxB,CAA6B,YAAI;AAC5C,4BAAI,CAACtC,QAAL,GAAgB,MAAI,CAAC4B,cAAL,CAAoB5B,QAApC;AACD,qBAFY,CAAN;;;;;;;;;;;;AAGR;AAzHoB;AAAA;AAAA,wCA2HR;AACX,eAAKA,QAAL,GAAgB,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,QAA3B,EAAqC,MAArC,CAAhB;AACA,eAAKuB,UAAL,GAAkB,KAAlB;AACD;AA9HoB;AAAA;AAAA,uCAgIT;AACV,eAAKrD,QAAL,GAAgB,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,QAA3B,EAAqC,KAArC,CAAhB;AACA,eAAKuB,UAAL,GAAkB,KAAlB;AACD;AAnIoB;AAAA;AAAA,uCAsIT;AACV,eAAKrD,QAAL,GAAgB,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,MAA3B,EAAmC,KAAnC,CAAhB;AACA,eAAKuB,UAAL,GAAkB,KAAlB;AACD;AAzIoB;AAAA;AAAA,uCA2IT;AACV,eAAKrD,QAAL,GAAgB,KAAK4B,cAAL,CAAoBE,MAApB,CAA2B,MAA3B,EAAmC,MAAnC,CAAhB;AACA,eAAKuB,UAAL,GAAkB,KAAlB;AACD;AA9IoB;;AAAA;AAAA,OAArB;;;;cAOsC;;cAAmC;;cAA4C;;cAC/F;;;;AARTL,YAAQ,6DALpB,gEAAU;AACThB,cAAQ,EAAE,UADD;AAETC,cAAQ,EAAR;AAAA;AAAA,wFAFS;;;;AAAA,KAAV,CAKoB,GAARe,QAAQ,CAAR","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"<ul>\\n  <!-- <ion-list-header>Ionic</ion-list-header> -->\\n  <li button (click)=\\\"sortByNewest()\\\">Newest</li>\\n  <li button (click)=\\\"sortByOldest()\\\">Oldest</li>\\n  <li button (click)=\\\"sortByHighest()\\\">Highest</li>\\n  <li button (click)=\\\"sortByLowest()\\\">Lowest</li>\\n  <!-- <ion-item lines=\\\"none\\\" detail=\\\"false\\\" button onClick=\\\"dismissPopover()\\\">Close</ion-item> -->\\n</ul>\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" *ngIf=\\\"!isSearchBarOn\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\" *ngIf=\\\"!isSearchBarOn\\\">\\n      Impulses\\n    </ion-title>\\n    <ion-searchbar *ngIf=\\\"isSearchBarOn\\\" (ionInput)=\\\"search($event)\\\" showCancelButton=\\\"true\\\" (ionCancel)=\\\"cancelSearch()\\\" placeholder=\\\"Search by Rating (Enter Number)\\\"></ion-searchbar>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!isSearchBarOn\\\">\\n      <ion-button (click)=\\\"isSearchBarOn=true\\\">\\n        <ion-icon name=\\\"search\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"openPopover($event)\\\">\\n\\n        <ion-icon name=\\\"filter\\\" slot=\\\"icon-only\\\"></ion-icon>\\n        \\n      </ion-button>\\n      <!-- <ion-button (click)=\\\"funnelShow=!funnelShow\\\">\\n        <ion-icon name=\\\"funnel\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button> -->\\n      <!-- <button class=\\\"sort\\\" id=\\\"drop\\\" (click)=\\\"dropMenu()\\\">Sort</button>\\n      <div class=\\\"dropdown\\\">\\n        <div id=\\\"myDrop\\\" class=\\\"dropdown-cont\\\">\\n          <a (click)=\\\"sortByOldest()\\\">Oldest</a>\\n          <a (click)=\\\"sortByNewest()\\\">Newest</a>\\n        </div>\\n      </div> -->\\n    </ion-buttons>\\n    <!-- <ion-select *ngIf=\\\"funnelShow\\\" interface=\\\"action-sheet\\\">\\n      <ion-select-option (click)=\\\"sortByOldest()\\\">Oldest</ion-select-option>\\n      <ion-select-option (click)=\\\"sortByNewest()\\\">Newest</ion-select-option>\\n    </ion-select> -->\\n    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n     \\n      refreshingSpinner=\\\"circles\\\"\\n     >\\n    </ion-refresher-content>\\n  </ion-refresher>\\n  <!-- <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">impulse</ion-title>\\n    </ion-toolbar>\\n  </ion-header> -->\\n  \\n  <!-- <ion-row>\\n    <ion-col>\\n      <ion-button expand=\\\"full\\\" (click)=\\\"sortByHighest()\\\">Highest</ion-button>\\n    </ion-col>\\n    <ion-col>\\n      <ion-button expand=\\\"full\\\" (click)=\\\"sortByLowest()\\\">Lowest</ion-button>\\n    </ion-col>\\n  </ion-row> -->\\n  <ion-card *ngFor=\\\"let impulse of (impulses|async)\\\">\\n\\n    <ion-card-content>\\n    \\n      <div style=\\\"background-color: var(--ion-color-tertiary, #ffffff) ;float: left; height: 50px; width: 50px; text-align: center; font-size: 30px; border-radius: 20%;\\\">\\n        <h1 style=\\\"padding-top: 25%\\\">{{ impulse.rating }}</h1>\\n      </div>\\n          <ion-row>\\n            <ion-col class=\\\"ion-text-left ion-no-padding\\\" [routerLink]=\\\"['./impulse-detail/', impulse.id]\\\" size='9'>\\n              <ion-item lines=\\\"none\\\">\\n               \\n                  <!-- <ion-badge slot=\\\"start\\\" class=\\\"ion-no-padding\\\">{{ impulse.rating }}</ion-badge> -->\\n                \\n                \\n                <h2 style=\\\"padding: 0\\\"><strong>{{ impulse.title }}</strong></h2>\\n              </ion-item>\\n              \\n              \\n            </ion-col>\\n            <ion-col class=\\\"ion-text-right\\\" style=\\\"padding: 0\\\">\\n              <ion-button fill=\\\"clear\\\" (click)=\\\"deleteImpulse(impulse.id)\\\" color=\\\"secondary\\\">\\n                <ion-icon name=\\\"trash-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row  [routerLink]=\\\"['./impulse-detail/', impulse.id]\\\">\\n            <ion-col style=\\\"padding: 0 0 0 20px\\\">\\n              \\n            </ion-col>\\n          </ion-row>\\n          <ion-row  [routerLink]=\\\"['./impulse-detail/', impulse.id]\\\">\\n            <ion-col style=\\\"padding: 0 0 0 20px\\\">\\n              <!-- <ion-datetime displayFormat=\\\"MMM DD, YYYY HH:mm\\\" [(ngModel)]=\\\"impulse.date\\\" class=\\\"ion-no-padding\\\"></ion-datetime> -->\\n              <!-- <h5 style=\\\"padding: 0\\\">{{ impulse.date }}</h5> -->\\n              <!-- <h5 style=\\\"padding: 0\\\">{{ impulse.detail }}</h5> -->\\n              <ion-datetime displayFormat=\\\"MMM DD, YYYY HH:mm a\\\" [(ngModel)]=\\\"impulse.date\\\" readonly=\\\"true\\\" class=\\\"ion-no-padding\\\"></ion-datetime>\\n            </ion-col>\\n          </ion-row>\\n          \\n     \\n    </ion-card-content>\\n  </ion-card>\\n  \\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button routerLink=\\\"./impulseAdd\\\" color=\\\"tertiary\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n  <!-- <app-explore-container name=\\\"Tab 1 page\\\"></app-explore-container> -->\\n</ion-content>\\n\";","import { Injectable } from '@angular/core';\nimport { Journal as Impulse } from './impulse.model';\nimport { AngularFirestoreCollection, AngularFirestore, DocumentReference } from '@angular/fire/firestore/';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImpulseService {\n  impulsesCollection: AngularFirestoreCollection<Impulse>\n\n  impulses: Observable<Impulse[]>\n  constructor(private afStore: AngularFirestore, private aService: AuthenticationService) {\n    this.impulsesCollection = this.afStore.collection('users').doc(this.aService.user.uid).collection('impulses')\n   }\n\n  getAllImpulses(): Observable<Impulse[]>{\n    console.log(this.aService.getUser().email)\n    this.impulsesCollection = this.afStore.collection('users').doc(this.aService.user.uid).collection('impulses')\n    this.impulses = this.impulsesCollection.snapshotChanges().pipe(map(actions=>{\n      return actions.map(a =>{\n        const data = a.payload.doc.data() as Impulse\n        const id = a.payload.doc.id\n        return {id, ...data };\n      })\n    }))\n    return this.impulses\n  }\n\n  \n  getImpulse(impulseId: string): Observable<Impulse>{\n    return this.impulsesCollection.doc<Impulse>(impulseId).valueChanges().pipe(\n      take(1),\n      map(impulse=>{\n        impulse.id = impulseId;\n        return impulse\n      })\n    )\n  }\n\n  searchImpulse(searchWord){\n    // searchWord = searchWord.toUpperCase()\n    searchWord = Number(searchWord)\n    return this.afStore.collection('users').doc(this.aService.getUser().uid).collection('impulses' , ref => \n    ref.where('rating' ,'==', searchWord)).snapshotChanges().pipe(map(actions=>{\n      return actions.map(a =>{\n        const data = a.payload.doc.data() as Impulse\n        // data = {\n        //   title: data.title.toLowerCase(),\n        //   detail: data.detail,\n        //   date: data.date\n        // }\n        // console.log(data.title)\n        // data.title = data.title.toLowerCase()\n        const id = a.payload.doc.id\n        return {id, ...data };\n      })\n    }))\n  }\n\n  sortBy(rating: string, desAsc){\n    return this.afStore.collection('users').doc(this.aService.getUser().uid).collection('impulses' , ref => \n    ref.orderBy(rating, desAsc)).snapshotChanges().pipe(map(actions=>{\n      return actions.map(a =>{\n        const data = a.payload.doc.data() as Impulse\n        // data = {\n        //   title: data.title.toLowerCase(),\n        //   detail: data.detail,\n        //   date: data.date\n        // }\n        // data.title = data.title.toLowerCase()\n        const id = a.payload.doc.id\n        return {id, ...data };\n      })\n    }))\n  }\n\n  updateImpulse(impulse: Impulse): Promise<void>{\n    return this.impulsesCollection.doc(impulse.id).update({title: impulse.title,\n    detail: impulse.detail, rating: impulse.rating, date: new Date().toISOString()})\n  }\n\n  deleteImpulse(impulseId: string): Promise<void>{\n    return this.impulsesCollection.doc(impulseId).delete()\n  }\n\n  addImpulse(impulse: Impulse): Promise<DocumentReference>{\n    return this.impulsesCollection.add(impulse)\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvcG9wb3Zlci9wb3BvdmVyLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ImpulseService } from '../impulse.service';\nimport { PopoverController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-popover',\n  templateUrl: './popover.component.html',\n  styleUrls: ['./popover.component.scss'],\n})\nexport class PopoverComponent implements OnInit {\n\n  constructor(private impulseService: ImpulseService, private popController: PopoverController) { }\n\n  ngOnInit() {}\n\n  sortByHighest(){\n    this.impulseService.impulses = this.impulseService.sortBy('rating', 'desc')\n    this.popController.dismiss();\n  }\n  \n  sortByLowest(){\n    this.impulseService.impulses = this.impulseService.sortBy('rating', 'asc')\n    this.popController.dismiss();\n  }\n  \n  \n  sortByOldest(){\n    this.impulseService.impulses = this.impulseService.sortBy('date', 'asc')\n    this.popController.dismiss();\n  }\n  \n  sortByNewest(){\n    this.impulseService.impulses = this.impulseService.sortBy('date', 'desc')\n    this.popController.dismiss();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  },\n  {\n    path: 'impulseAdd',\n    loadChildren: () => import('./impulse-add/impulse-add.module').then( m => m.ImpulseAddPageModule)\n  },\n  {\n    path: 'impulse-detail/:impulseId',\n    loadChildren: () => import('./impulse-detail/impulse-detail.module').then( m => m.ImpulseDetailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\nimport { Journal as Impulse } from './impulse.model';\nimport { ImpulseService } from './impulse.service';\nimport { Observable } from 'rxjs';\nimport { AlertController, PopoverController, Platform } from '@ionic/angular';\n\nimport { PopoverComponent } from '../tab2/popover/popover.component';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit{\n  impulses: Observable<Impulse[]>\n  tempImpulse: Observable<Impulse[]>\n  isSearchBarOn: boolean = false\n  funnelShow: boolean = false\n  currentPopover = null;\n  backButtonSubscription;\n  constructor(private impulseService: ImpulseService, private alertCtrl: AlertController, private popoverController: PopoverController, \n    private platform: Platform) {}\n\n  ngOnInit(){\n    this.impulses = this.impulseService.getAllImpulses()\n  }\n\n  ionViewWillEnter(){\n    this.impulses = this.impulseService.getAllImpulses()\n  }\n\n  // ngAfterViewInit(){\n  //   this.backButtonSubscription = this.platform.backButton.subscribeWithPriority(1, ()=>{\n  //     navigator['app'].exitApp();\n  //   })\n  // }\n\n  // ngOnDestroy(){\n  //   this.backButtonSubscription.unsubscribe();\n  // }\n\n  async deleteImpulse(id){\n    let alert = await this.alertCtrl.create({\n      header: 'Delete',\n      message: 'Do you want to delete this impulse?',\n      cssClass: 'buttonCss',\n      buttons: [{\n        text: 'Delete',\n        cssClass: 'first-button',\n        handler: ()=>{ this.impulseService.deleteImpulse(id) }\n      },\n      {\n        text: 'Cancel',\n        cssClass: 'second-button',\n        role: 'cancel'\n      }]\n    })\n    await alert.present()\n  }\n\n  doRefresh(event) {\n  \n    \n    setTimeout(() => {\n      this.impulses = this.impulseService.getAllImpulses()\n      event.target.complete();\n    }, 1000);\n  }\n\n  onChange($event){\n  \n    switch($event.target.value){\n      case 'newest':\n        this.sortByNewest();\n        break;\n      case 'oldest':\n        this.sortByOldest();\n        break;\n      case 'highest':\n        this.sortByHighest();\n        break;\n      case 'lowest':\n        this.sortByLowest();\n        break;\n    }\n  }\n\n  search(event){\n    var searchWord = event.target.value\n \n    if (!searchWord || !searchWord.trim()){\n      this.impulses = this.impulseService.getAllImpulses()\n    }else{\n      // console.log(searchWord.toLowerCase())\n      this.impulses = this.impulseService.searchImpulse(searchWord)\n    }\n  }\n  \n  cancelSearch(){\n    this.isSearchBarOn=false;\n    this.impulses = this.impulseService.impulses;\n  }\n  \n\n  dropMenu() {\n    document.getElementById(\"myDrop\").classList.toggle(\"show\");\n    //makes it so that clicking anywhere else on the screen closes drop down\n    window.onclick = function(e) {\n    var ele=<Element>e.target;\n        if (!ele.matches('#drop')){\n          var dropdowns = document.getElementsByClassName(\"dropdown-cont\");\n          var i;\n          for (i = 0; i < dropdowns.length; i++) {\n              var openDropdown = dropdowns[i];\n              if (openDropdown.classList.contains('show')) {\n                  openDropdown.classList.remove('show');\n              }\n          }\n        }\n  }\n}\n\nasync openPopover(ev) {\n  const popover = await this.popoverController.create({\n    component: PopoverComponent,\n    event: ev,\n    translucent: true,\n  });\n  this.currentPopover = popover;\n  console.log(ev)\n  await popover.present()\n  return await popover.onWillDismiss().then(()=>{\n    this.impulses = this.impulseService.impulses;\n  })\n}\n\nsortByHighest(){\n  this.impulses = this.impulseService.sortBy('rating', 'desc')\n  this.funnelShow = false\n}\n\nsortByLowest(){\n  this.impulses = this.impulseService.sortBy('rating', 'asc')\n  this.funnelShow = false\n}\n\n\nsortByOldest(){\n  this.impulses = this.impulseService.sortBy('date', 'asc')\n  this.funnelShow = false\n}\n\nsortByNewest(){\n  this.impulses = this.impulseService.sortBy('date', 'desc')\n  this.funnelShow = false\n}\n  // search(event){\n  //   var searchWord = event.target.value\n  //   if (searchWord == 0){\n  //     this.journals = this.journalService.getAllJournals()\n  //   }else{\n  //     this.journals.subscribe(journal=>{\n  //       journal.forEach(element => {\n  //         if(element.title.toUpperCase().startsWith(searchWord.toUpperCase())){\n  //           return element\n  //         }\n  //       })\n  //     })\n  //    // this.journals = this.journalService.searchJournals(searchWord)\n  //   }\n  // }\n}\n\n"]}